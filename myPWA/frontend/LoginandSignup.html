<!DOCTYPE html>
<html lang="en">
    <head> 
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Movies for me</title>
        <link rel="stylesheet" href="LoginandSignup_Style.css">
        <script src="https://kit.fontawesome.com/6a46cb65ec.js" crossorigin="anonymous"></script>
        <link rel="manifest" href="../manifest.json">
    </head>

    <body>
<!--Login and Registration form section-->
        <div class="container">
            <div class="form-header">
                <div class="title">
                    <div class="title-login">Login</div>
                    <div class="title-register">Register</div>                    
                </div>
            </div>
<!--Login Form Section-->
            <form class="login-form" id="loginForm" >  
                <div class="input-box">
                    <input type="text" class="input-field" id="log-username" name="log-username" autocomplete="off" required>
                    <label for="log-username" class="label">Username</label>
                    <i class="fa-solid fa-user form-icon"></i>      
                </div> 

                <div class="input-box">
                    <input type="password" class="input-field" id="logpass" name="logpass" required>
                    <label for="logpass" class="label">Password</label>
                    <i class="fa-solid fa-lock form-icon"></i>
                </div>

                <div class="input-box">
                    <button type="submit" class="submitbtn" id="SignInBtn">Login</button>
                </div>

                <div class="switch-form"> 
                    <span> Don't have an account? <a href="#"class="changeformBtn" onclick="registerFunction()">Register Here</a></span> 
                </div>

                <div class="Loginerrormess" id="Pass_limit"></div> <!--Error Message Section: Failed login, number of attempts and lockout time for login will be displayed in this section --> 
            </form>

<!--Registration form-->
            <form class="register-form" id="registerForm" >
                <div class="input-box">
                    <input type="text" class="input-field" id="reg-username" name="reg-username" maxlength="24"  autocomplete="off"  required> <!--Input validation: conditons such as maxlength-->
                    <label for="reg-username" class="label"> Username:</label>
                    <i class="fa-solid fa-user form-icon"></i>
                    <div class="errormess" id="usernameerror"></div>
                </div>
                <div class="input-box"> 
                    <input type="email" class="input-field" id="reg-email" name="reg-email" autocomplete="off"  required> 
                    <label for="reg-email" class="label"> Email: </label>
                    <i class="fa-solid fa-envelope form-icon"></i>
                    <div class="errormess" id="emailerror"></div> <!--Displays the error message for when the email provided is not valid or has already been used-->
                </div>

                <div class="input-box"> <!--Password Validation-->
                    <input type="password" name="reg-pass" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z\d]).{8,}" class="input-field" id="reg-pass" required>
                    <label for="reg-pass" class="label" id="Password">Password</label>
                    <i class="fa-solid fa-lock form-icon"></i>
                    <div id="Password-message">
                        <h4>Password must contain the following:</h4>
                        <p class="Invalid" id="letter">At least one <b>lowercase</b> letter</p>
                        <p class="Invalid" id="capital">At least one <b>Uppercase</b> letter</p>
                        <p class="Invalid" id="number">At least one <b>number</b></p>
                        <p class="Invalid" id="specialCharacter">At least one <b>special character</b></p>
                        <p class="Invalid" id="length">Be at least <b>8 characters</b> long</p>
                    </div>
                </div>

                <div class="input-box password"> 
                    <button class="submitbtn" id="SignUpBtn" type="submit">Sign Up </button>
                </div>
                
                <div class="switch-form"> 
                    <span> Already have an account? <a href="#" class="changeformBtn" onclick="loginFunction()">Login Instead</a></span>
                </div>
            </form>
        </div>

        <script src="LoginandSignup.js"></script> 
        <script>
            
            if ('serviceWorker' in navigator) {
                window.addEventListener('load', () => {
                    navigator.serviceWorker.register('/12-PWA-Software-Engineeing-Assessment-1/myPWA/service-worker.js')
                        .then(registration => {
                            console.log('Service Worker registered with scope:', registration.scope);
                        })
                        .catch(error => {
                            console.log('Service Worker registration failed:', error);
                        });
                });
            }
            
            
            
        </script>

    </body>
    
</html>
